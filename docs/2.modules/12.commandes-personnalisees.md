---
title: Commandes personnalis√©es
description: Avec DraftBot, vous avez la possibilit√© de cr√©er vos propres commandes !
navigation.icon: 'twemoji:magic-wand'
contributors: ['hugo-broc','clement669']
updated_at: '2025-02-27'
---

## Configuration

<!-- Depuis Discord -->
::tabs
  ::tab{ label="Via la commande /config" }
    Vous pouvez cr√©er une commande personnalis√©e avec la commande \</config>, en vous rendant ensuite dans l'onglet "Commandes personnalis√©es" du s√©lecteur.
    DraftBot vous invitera alors √† renseigner :

    * Le nom de la commande,
    * La description de la commande,
    * La / les [actions](https://draftbot.fr/docs/modules/commandes-personnalisees#actions) que votre commande devra r√©aliser,
    * Les r√¥les ou salons interdits/autoris√©s,
    * Si la commande doit appara√Ætre dans le \</aide> ou non,
    * Si vous souhaitez ajouter un mode lent √† votre commande,
    * Si vous souhaitez d√©finir une condition pour l'utiliser.


    ::hint{ type="info" }
    Lorsque vous ex√©cutez une commande personnalis√©e, votre texte de d√©clenchement de commande reste dans le salon. Si vous souhaitez que **DraftBot** supprime votre commande, vous pouvez activer l'option correspondante dans \</config>, en vous rendant dans l'onglet "Commandes personnalis√©es" du s√©lecteur, puis en activant le bouton "Activer la suppression des commandes".
    ::
  ::

  ::tab{ label="Depuis le panel" }
    [Acc√©der au panel de **DraftBot**](/dashboard/first/custom-commands)

    Remplissez les divers champs (nom, description, actions...), cliquez sur le bouton "Cr√©er", et votre commande personnalis√©e est imm√©diatement pr√™te √† l'emploi !

    ![Panel de configuration des commandes personnalis√©es](../assets/commandes-personnalisees/panel_customcommands_0.png){ width=600px }

    ::hint{ type="success" }
      Pour plus de personnalisation, d√©roulez le menu "**avanc√©**" !
    ::
    ::hint{ type="info" }
    Besoin de modifier ou de supprimer une commande ?\
    Pas de probl√®me ! Cliquez sur "Modifier" ou "Supprimer" sur le c√¥t√© droit. ![Boutons de modification ou suppression d'une commande personnalis√©e](../assets/custom-commands/edit-command.png)
    ::
  ::
::

## Actions
Les actions sont le coeur de votre commande personnalis√©e, et se r√©partissent en 4 types :
::tabs  
  ::tab{ label="Message" }
    1. **Envoyer un message** \
    *Lors de l'ex√©cution de la commande, DraftBot enverra un message.*

    ::hint{ type="info" }
      Le message peut contenir du markdown et des variables. Si vous le configurez depuis le [Panel](/dashboard/first/custom-commands), vous pouvez m√™me y ajouter des embeds !
    ::
    ::collapse{ label="Afficher un exemple :" }
      ### Exemple d'utilisation : 
      Voici une action **Envoyer un message**, configur√©e depuis le [Panel](/dashboard/first/custom-commands) :\
      ![Exemple d'action Envoyer un Message, avec Embed et variables](../assets/commandes-personnalisees/ex_cmd_perso_txt.png)
      √Ä l'ex√©cution de la commande, voici ce qu'on obtient :
      ![R√©sultat de la commande sur Discord](../assets/commandes-personnalisees/res_cmd_perso_txt.png)
    ::
  ::
  ::tab{ label="R√¥les" }
    1. **Ajouter des r√¥les**\
    *Lors de l'ex√©cution de la commande, DraftBot attribuera le/les r√¥les s√©lectionn√©s.*
    ::collapse{ label="Afficher un exemple :" }
      ![Exemple d'action Ajouter des r√¥les](../assets/commandes-personnalisees/ex_cmd_perso_role.png)
      
      ::hint{ type="success" }
        Si j'√©cris sur Discord `!role-a @Draftman`, le membre Draftman re√ßoit le r√¥le \<@A> !
      ::
      
      ::hint{ type="info" }
        Pour plus de clart√©, n'h√©sitez pas √† combiner cette action avec une action **Envoyer un message**, pour que Draftbot puisse pr√©venir le membre qu'il a re√ßu un nouveau r√¥le !
      ::
    ::

    2. **Ajouter un r√¥le temporaire**\
    *Lors de l'ex√©cution de la commande, Draftbot attribuera un r√¥le, puis le retirera apr√®s un temps de votre choix.*
    ::collapse{ label="Afficher un exemple :" }
      Depuis le [Panel](/dashboard/first/custom-commands), il est tr√®s facile de r√©gler avec pr√©cision la dur√©e souhait√©e :
      ![Exemple d'action Ajouter des r√¥les](../assets/commandes-personnalisees/ex_cmd_perso_roletemp0.png)

      ::hint{ type="success" }
        Si j'√©cris sur Discord `!role-temp`, je re√ßois le r√¥le \<@C> !\
        Ensuite, au bout de 5 minutes, le r√¥le m'est retir√© automatiquement.
      ::
    ::

    3. **Retirer des r√¥les** \
    *Lors de l'ex√©cution de la commande, Draftbot retirera le/les r√¥les s√©lectionn√©s.*
    Voici une commande contenant l'action "**Retirer des r√¥les**" :
    ::collapse{ label="Afficher un exemple :" }
      Voici une fonction qui permet de retirer √† un membre le r√¥le \<@A>, en le mentionnant :
      ![Exemple d'action Retirer des r√¥les](../assets/commandes-personnalisees/ex_cmd_perso_retirer_role.png)
      ::hint{ type="success" }
        Si j'√©cris sur Discord `!retrograde-a @Drafman`, le membre \<@Draftman> perd instantan√©ment le r√¥le \<@A> !
      ::
    ::
    ::hint{ type="info" }
      Pour chacune de ces trois commandes, vous pouvez d√©cider si vous souhaitez que la modification de r√¥le s'applique √† la personne qui utilise la commande, ou √† une autre personne, mentionn√©e dans la commande.
    ::
  ::

  ::tab{ label="Inventaire / √âconomie" }
    1. **Article de la boutique** \
    *En utilisant cette commande, le membre ach√®tera l'objet s√©lectionn√©.*
    ::collapse{ label="Afficher un exemple :" }
      La commande suivante permet l'achat d'un item par son utilisateur :
      
      ![Exemple d'action Article de la boutique](../assets/commandes-personnalisees/ex_cmd_perso_article_shop.png)

      ::hint{ type="success" }
        Si j'√©cris sur Discord `!renard`, l'objet **"ü¶ä Renard en peluche"** appara√Æt dans mon inventaire (et son prix est d√©duit de mon argent) !
      ::
      ::hint{ type="info" }
        L'achat est r√©alis√© aussit√¥t la commande effectu√©e, aucune confirmation pr√©alable n'est demand√©e, et aucune confirmation d'achat n'est envoy√©e :\
      üí°Pensez √† combiner cette action avec l'action **Envoyer un message** !
      ::
    ::

    2. **Ajouter de l'argent** \
    *Lors de l'ex√©cution de la commande, DraftBot ajoutera un montant d√©fini d'argent au membre.*
    ::collapse{ label="Afficher un exemple :" }
      Voici une commande `!donation`, qui permet d'ajouter 10üí∞ √† un membre mentionn√© :
      ![Exemple d'action Ajouter de l'argent](../assets/commandes-personnalisees/ex_cmd_perso_ajouter_argent.png)
      
      ::hint{ type="success" }
        Si j'√©cris sur Discord `!donation @Drafman`, le membre \<@Draftman> re√ßoit instantan√©ment 10üí∞ !
      ::
      ::hint{ type="info" }
        Vous pouvez aussi d√©cider que cette commande ajoute la somme au membre qui l'utilise, et non √† un membre mentionn√©. Il suffit de d√©cocher la case "cibler un autre membre".
      ::
    ::


  ::
::

## Arguments

Les commandes personnalis√©es vous offrent la possibilit√© d'ajouter des arguments dans vos messages.

Voici les diff√©rentes variables d'arguments possibles avec **DraftBot** :

> `$1` ‚ûú Premier argument saisi apr√®s la commande.\
> `$2` ‚ûú Deuxi√®me argument saisi apr√®s la commande.\
> `$1+` ‚ûú Tout ce qui est saisi apr√®s la commande.\
> `$2+` ‚ûú Tout ce qui est saisi apr√®s la commande sauf le premier argument.

### Valeur par d√©faut

> Il est possible d'assigner une valeur par d√©faut √† votre variable.

Pour cela il suffit d'ajouter `={Votre valeur}` apr√®s les variables ci-dessus.

::hint{ type="info" }
**Exemple de commande personnalis√©e avec des arguments :**

* Nom de la commande : `!adjectif`
* Message configur√© : `$1 est maintenant $2+`
* Commande de l'utilisateur : `!adjectif @Jules fort et beau`
* R√©ponse de DraftBot : **@Jules est maintenant fort et beau**
::

## Variables

Les commandes personnalis√©es vous offrent √©galement la possibilit√© d'ajouter des variables dans vos messages.

Ouvrez le menu d√©roulant pour voir les diff√©rentes variables :

::collapse{ label="Variables disponible" }
  **Membre** :
  > `{user}` ‚ûú Mention du membre
  >
  > `{user.id}` ‚ûú Identifiant du membre
  >
  > `{user.username}` ‚ûú Pseudo du membre
  >
  > `{user.nickname}` ‚ûú Surnom ou pseudo du membre

  **Niveaux** :
  > `{level}` ‚ûú Niveau du membre _(uniquement si le syst√®me de niveaux est activ√©)_
  >
  > `{level.rank}` ‚ûú Place du membre *(uniquement pour les messages dans le syst√®me de niveaux)*
  >
  > `{money}` ‚ûú Argent du membre _(uniquement si le syst√®me d'√©conomie est activ√©)_
  >
  > `{money.rank}` ‚ûú Place du membre *(uniquement si le syst√®me d'√©conomie est activ√©)*
  >
  > `{birthday}` ‚ûú Date d'anniversaire du membre *(uniquement si le syst√®me est activ√©)*

  **Serveur** :
  > `{server}` ou `{‚Äãserver.name}` ‚ûú Nom du serveur
  >
  > `{server.id}` ‚ûú Identifiant du serveur
  >
  > `{server.membercount}` ‚ûú Nombre de membres sur le serveur

  **Salon**  :
  > `{channel}` ‚ûú Mentions du salon
  >
  > `{channel.id}` ‚ûú Identifiant du salon
  >
  > `{channel.name}` ‚ûú Nom du salon

  **Temps** :
  > `{date}` ‚ûú Date actuelle (JJ/MM/AAAA)
  >
  > `{time}` ‚ûú Heure actuelle (HH:MM)
  >
  > `{timestamp}` ‚ûú Timestamp actuel en secondes
::
