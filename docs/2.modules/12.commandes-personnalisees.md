---
title: Commandes personnalis√©es
description: Avec DraftBot, vous avez la possibilit√© de cr√©er vos propres commandes !
navigation.icon: 'twemoji:magic-wand'
contributors: ['hugo-broc','clement669']
updated_at: '2025-02-28 18:29:00'
---

## Configuration

<!-- Depuis Discord -->
::tabs
  ::tab{ label="Via la commande /config" }
    Vous pouvez cr√©er une commande personnalis√©e avec la commande \</config>, en vous rendant ensuite dans l'onglet "Commandes personnalis√©es" du s√©lecteur.
    DraftBot vous invitera alors √† renseigner :

    * Le **nom** de la commande,
    * La **description** de la commande,
    * La / les [actions](#actions) que votre commande devra r√©aliser,
    * Les r√¥les ou salons [interdits/autoris√©s](#options-avancees),
    * Si la commande doit [appara√Ætre](#options-avancees) dans le \</aide> ou non,
    * Si vous souhaitez ajouter un [mode lent](#options-avancees) √† votre commande,
    * Si vous souhaitez d√©finir une [condition](#options-avancees) pour l'utiliser.


    ::hint{ type="info" }
    Lorsque vous ex√©cutez une commande personnalis√©e, votre texte de d√©clenchement de commande reste dans le salon. Si vous souhaitez que **DraftBot** supprime votre commande, vous pouvez activer l'option correspondante dans \</config>, en vous rendant dans l'onglet "Commandes personnalis√©es" du s√©lecteur, puis en activant le bouton "Activer la suppression des commandes".
    ::
  ::

  ::tab{ label="Depuis le panel" }
    [‚´∏ Acc√©der au panel de **DraftBot**](/dashboard/first/custom-commands)

    Remplissez les divers champs (nom, description, actions...), cliquez sur le bouton "Cr√©er", et votre commande personnalis√©e est imm√©diatement pr√™te √† l'emploi !

    ![Panel de configuration des commandes personnalis√©es](../assets/commandes-personnalisees/panel_customcommands_0.png)

    ::hint{ type="success" }
      Pour plus de personnalisation, d√©roulez le menu "**avanc√©**" !
    ::
    ::hint{ type="info" }
    Besoin de modifier ou de supprimer une commande ?\
    Pas de probl√®me ! Cliquez sur "Modifier" ou "Supprimer" :\
    ![Boutons de modification ou suppression d'une commande personnalis√©e](../assets/commandes-personnalisees/edit_command_0.png)
    ::
  ::
::

## Les actions
Les actions sont le c≈ìur de votre commande personnalis√©e, et se r√©partissent en 4 types :
::tabs  
  ::tab{ label="Message" }
    1. **Envoyer un message** \
    *Lors de l'ex√©cution de la commande, DraftBot enverra un message.*

    ::hint{ type="info" }
      Le message peut contenir du markdown et des variables. Si vous le configurez depuis le [Panel](/dashboard/first/custom-commands), vous pouvez m√™me y ajouter des embeds !
    ::
    ::collapse{ label="Afficher un exemple :" }
      Voici une action **Envoyer un message**, configur√©e depuis le [Panel](/dashboard/first/custom-commands) :\
      ![Exemple d'action Envoyer un Message, avec Embed et variables](../assets/commandes-personnalisees/ex_cmd_perso_txt.png)
      √Ä l'ex√©cution de la commande, voici ce qu'on obtient :
      ![R√©sultat de la commande sur Discord](../assets/commandes-personnalisees/res_cmd_perso_txt.png)
    ::
  ::
  ::tab{ label="R√¥les" }
    1. **Ajouter des r√¥les**\
    *Lors de l'ex√©cution de la commande, DraftBot attribuera le/les r√¥les s√©lectionn√©s.*
    ::collapse{ label="Afficher un exemple :" }
    Voici une commande faisant appel √† l'action **"Ajouter des r√¥les"** :
      ![Exemple d'action Ajouter des r√¥les](../assets/commandes-personnalisees/ex_cmd_perso_role.png)
      
      ::hint{ type="success" }
        Si j'√©cris sur Discord `!role-a @Draftman`, le membre Draftman re√ßoit le r√¥le \<@A> !
      ::
      
      ::hint{ type="info" }
        > üí° Pour plus de clart√©, n'h√©sitez pas √† combiner cette action avec une action **Envoyer un message**, pour que Draftbot puisse pr√©venir le membre qu'il a re√ßu un nouveau r√¥le !
      ::
    ::

    2. **Ajouter un r√¥le temporaire**\
    *Lors de l'ex√©cution de la commande, Draftbot attribuera un r√¥le, puis le retirera apr√®s un temps de votre choix.*
    ::collapse{ label="Afficher un exemple :" }
      Depuis le [Panel](/dashboard/first/custom-commands), il est tr√®s facile de r√©gler avec pr√©cision la dur√©e souhait√©e :
      ![Exemple d'action Ajouter des r√¥les](../assets/commandes-personnalisees/ex_cmd_perso_roletemp0.png)

      ::hint{ type="success" }
        Si j'√©cris sur Discord `!role-temp`, je re√ßois le r√¥le \<@C> !\
        Ensuite, au bout de 5 minutes, le r√¥le m'est retir√© automatiquement.
      ::
    ::

    3. **Retirer des r√¥les** \
    *Lors de l'ex√©cution de la commande, Draftbot retirera le/les r√¥les s√©lectionn√©s.*
    ::collapse{ label="Afficher un exemple :" }
      Voici une fonction qui permet de retirer √† un membre le r√¥le \<@A>, en le mentionnant :
      ![Exemple d'action Retirer des r√¥les](../assets/commandes-personnalisees/ex_cmd_perso_retirer_role.png)
      ::hint{ type="success" }
        Si j'√©cris sur Discord `!retrograde-a @Draftman`, le membre \<@Draftman> perd instantan√©ment le r√¥le \<@A> !
      ::
    ::
    ::hint{ type="info" }
      Si vous souhaitez que la commande s'applique directement au membre qui l'utilise, il suffit de d√©cocher la case "cibler un autre membre".
      ![Cibler un autre membre](../assets/commandes-personnalisees/cmd_perso_cibler_autre_membre.png){width = 300}
    ::
  ::

  ::tab{ label="Inventaire / √âconomie" }
    1. **Article de la boutique** \
    *En utilisant cette commande, le membre ach√®tera l'objet s√©lectionn√©.*
    ::collapse{ label="Afficher un exemple :" }
      La commande suivante permet l'achat d'un item par son utilisateur :
      
      ![Exemple d'action Article de la boutique](../assets/commandes-personnalisees/ex_cmd_perso_article_shop.png)

      ::hint{ type="success" }
        Si j'√©cris sur Discord `!renard`, l'objet **"ü¶ä Renard en peluche"** appara√Æt dans mon inventaire (et son prix est d√©duit de mon argent) !
      ::
      ::hint{ type="info" }
        L'achat est r√©alis√© aussit√¥t la commande effectu√©e, aucune confirmation pr√©alable n'est demand√©e, et aucune confirmation d'achat n'est envoy√©e :\
      üí°Pensez √† combiner cette action avec l'action **Envoyer un message** !
      ::
    ::

    2. **Ajouter de l'argent** \
    *Lors de l'ex√©cution de la commande, DraftBot ajoutera un montant d√©fini d'argent au membre.*
    ::collapse{ label="Afficher un exemple :" }
      Voici une commande `!donation`, qui permet d'ajouter 10üí∞ √† un membre mentionn√© :
      ![Exemple d'action Ajouter de l'argent](../assets/commandes-personnalisees/ex_cmd_perso_ajouter_argent.png)
      
      ::hint{ type="success" }
        Si j'√©cris sur Discord `!donation @Draftman`, le membre \<@Draftman> re√ßoit instantan√©ment 10üí∞ !
      ::
      ::hint{ type="info" }
        Vous pouvez aussi d√©cider que cette commande ajoute la somme au membre qui l'utilise, et non √† un membre mentionn√©. Pour cela, d√©cochez la case "cibler un autre membre".
      ::
    ::


  ::
::
## Options Avanc√©es
### A. O√π les trouver ?
::tabs
  ::tab{ label="Via la commande /config" }
  ::hint{ type="success" }
    Les options avanc√©es vous seront directement propos√©es par Draftbot lors de la configuration de la commande : Vous n'avez qu'√† vous laisser guider !
  ::
  ::

  ::tab{ label="Depuis le Panel" }
    ::hint{ type="info" }
      Depuis le [Panel](/dashboard/first/custom-commands), vous pouvez faire appara√Ætre ces options en cliquant sur "Avanc√©", en dessous de vos actions.
      ![D√©velopper le menu des options avanc√©es](../assets/commandes-personnalisees/cmd_perso_avance.png)
    ::
  ::
::
### B. Que font-elles ?
On peut regrouper les options avanc√©es en 4 cat√©gories :
::tabs
  ::tab{ label="Restrictions" }
    Il est possible de restreindre l'acc√®s √† une fonction selon deux crit√®res :
    1. **Restreindre par R√¥les**\
      Vous pouvez r√©server l'utilisation d'une fonction √† certains r√¥les sp√©cifiques, ou au contraire l'interdire uniquement √† certains r√¥les sp√©cifiques.
     
    2. **Restreindre par Salons**\
      De la m√™me fa√ßon, vous pouvez restreindre l'utilisation de votre fonction √† certains salons sp√©cifiques, ou l'interdire √† certains salons sp√©cifiques.
    
    ::hint{ type="info" }
      Pour basculer entre les modes "autoriser" et "interdire", cliquez sur "**AUTORIS√âS/INTERDITS**".\
      Le mode actif est √©crit en blanc, tandis que l'autre est gris√©.
      ![Dans cette configuration, si j'ajoute des r√¥les/salons, ils n'auront pas acc√®s √† la commande.](../assets/commandes-personnalisees/cmd_perso_avance_switch_restr.png)
    ::
  ::

  ::tab{ label="Masquage" }
  Si vous ne souhaitez pas que la commande apparaisse dans le \</help>, vous pouvez activer ce bouton :

![Option permettant de cacher la commande](../assets/commandes-personnalisees/cmd_perso_avance_cacher.png)
  ::hint{ type="warning" }
    Lorsque la commande est cach√©e, elle ne renverra pas de message d'erreur en cas de mauvaise utilisation !
  ::
  ::

  ::tab{ label="Mode lent" }
    Si vous souhaitez appliquer un *"cooldown"* (ou "temps de rechargement") √† votre commande personnalis√©e, vous pouvez le param√©trer tout en souplesse, en renseignant les informations suivantes :
    - `Nombre d'utilisations` : le nombre d'utilisations par le m√™me utilisateur avant de d√©clancher un temps de rechargement
    - `Dur√©e du mode lent` : la dur√©e de rechargement avant que l'utilisateur puisse utiliser de nouveau la commande.

    ![Le Panel offre une interface intuituve pour r√©gler le mode lent. ](../assets/commandes-personnalisees/cmd_perso_avance_cooldown.png)

    ::hint{ type="success" }
      Si vous √™tes mod√©rateur/administrateur, vous pouvez r√©initialiser votre propre nombre d'utilisations d'une commande ! Pour cela, rendez-vous sur le [Panel](/dashboard/first/custom-commands), cliquez sur "**Modifier**" √† c√¥t√© de la commande en question.\
      Un bouton "**R√©initialiser mon mode lent**" appara√Ætra en bas √† gauche de l'√©cran :
      ![R√©initialiser son mode lent depuis le panel](../assets/commandes-personnalisees/cmd_perso_avance_reset_cd.png)
    ::
  ::

  ::tab{ label="Conditions" }
    Vous pouvez conditionner l'acc√®s √† votre commande en fonction de pr√©requis :
    - `Objet d'inventaire` : Le membre ne pourra acc√©der √† la commande que s'il poss√®de l'objet d√©fini.
    - `Argent` : Le membre ne pourra acc√©der √† la commande que s'il poss√®de la somme d'argent d√©finie.
    - `Niveau` : Seuls les membres d'un certain niveau pourront acc√©der √† la commande.
    
    ::hint{ type="info" }
      Pour les options "objet d'inventaire" et "argent", vous pouvez d√©cider si vous souhaitez que l'objet (ou la somme) soit d√©duit de l'inventaire du membre ou non.
    ::
    ::hint{ type="success" }
      Gr√¢ce au [Panel](/dashboard/first/custom-commands), vous pouvez configurer tout √ßa en quelques clics :
      ![Liste des conditions possibles](../assets/commandes-personnalisees/cmd_perso_avance_conditions.png)
    ::
  ::
::
## Pour aller plus loin

### Les arguments
Vous pouvez rendre les messages de vos commandes personnalis√©es plus personnels et plus pertinents en utilisant des arguments !

::hint{ type="info" }
  Un "argument" est une information que vous donnez lorsque vous utilisez une commande.\
  Par exemple, dans la commande `!compliment @Draftman cool`, `@Draftman` est le premier argument, et `cool` est le deuxi√®me argument.
::

Voici les diff√©rentes variables d'arguments possibles avec **DraftBot** :

> `$1` ‚ûú Premier argument saisi apr√®s la commande.\
> `$2` ‚ûú Deuxi√®me argument saisi apr√®s la commande.\
> `$1+` ‚ûú Tout ce qui est saisi apr√®s la commande.\
> `$2+` ‚ûú Tout ce qui est saisi apr√®s la commande sauf le premier argument.

::collapse{ label="üí° Exemple :" }
  Reprenons la commande `!compliment @Draftman cool`.\
  Si je veux que mon action "**Envoyer un message**" fasse dire √† Draftbot "@draftman est super cool", je dois r√©gler le message de DraftBot de cette fa√ßon `$1 est super $2`.

  ::hint{ type="info" }
    Si je souhaite que la commande fonctionne avec plusieurs mots d'affil√©e, il suffit de remplacer `$2` par `$2+` !
  ::

::

### Valeur par d√©faut

::hint{ type="success" }
  Il est possible d'assigner une valeur par d√©faut √† votre variable :\
  Pour cela il suffit d'ajouter `={Votre valeur}` apr√®s les variables ci-dessus.\
  En gardant le m√™me exemple de commande, je peux par exemple pr√©ciser √† DraftBot que, si aucun adjectif n'est rempli, il doit √©crire "g√©nial" par d√©faut.
::


### Les variables

Les commandes personnalis√©es vous offrent √©galement la possibilit√© d'ajouter des variables dans vos messages.

Ouvrez le menu d√©roulant pour voir les diff√©rentes variables :

::collapse{ label="Variables disponible" }
  **Membre** :
  > `{user}` ‚ûú Mention du membre
  >
  > `{user.id}` ‚ûú Identifiant du membre
  >
  > `{user.username}` ‚ûú Pseudo du membre
  >
  > `{user.nickname}` ‚ûú Surnom ou pseudo du membre

  **Niveaux** :
  > `{level}` ‚ûú Niveau du membre _(uniquement si le syst√®me de niveaux est activ√©)_
  >
  > `{level.rank}` ‚ûú Place du membre *(uniquement pour les messages dans le syst√®me de niveaux)*
  >
  > `{money}` ‚ûú Argent du membre _(uniquement si le syst√®me d'√©conomie est activ√©)_
  >
  > `{money.rank}` ‚ûú Place du membre *(uniquement si le syst√®me d'√©conomie est activ√©)*
  >
  > `{birthday}` ‚ûú Date d'anniversaire du membre *(uniquement si le syst√®me est activ√©)*

  **Serveur** :
  > `{server}` ou `{‚Äãserver.name}` ‚ûú Nom du serveur
  >
  > `{server.id}` ‚ûú Identifiant du serveur
  >
  > `{server.membercount}` ‚ûú Nombre de membres sur le serveur

  **Salon**  :
  > `{channel}` ‚ûú Mentions du salon
  >
  > `{channel.id}` ‚ûú Identifiant du salon
  >
  > `{channel.name}` ‚ûú Nom du salon

  **Temps** :
  > `{date}` ‚ûú Date actuelle (JJ/MM/AAAA)
  >
  > `{time}` ‚ûú Heure actuelle (HH:MM)
  >
  > `{timestamp}` ‚ûú Timestamp actuel en secondes
::
