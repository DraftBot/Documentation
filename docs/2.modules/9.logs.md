---
title: Logs
description: Besoin de recenser les actions faites sur votre serveur ? Les logs sont là pour vous !
navigation.icon: 'twemoji:card-file-box'
contributors: ['hugo-broc', 'theorik', 'thecreatorn3ant', 'imroxxor', 'draftproducts']
updatedAt: '2023-03-01'
---

## Qu'est-ce que c'est ?

Les logs sont un historique des actions faites sur votre serveur. Ils vous permettent de pouvoir retrouver une action qui vous intrigue ou bien de voir qui a fait quelle action.

Les logs sont des embeds qui sont envoyés non pas par **DraftBot**, mais par des webhooks. Un webhook vous permet d'envoyer un message avec une photo de profil, un nom et un contenu personnalisé.
> ***DraftBot** gère ses propres webhooks et l'envoi des messages avec ses derniers. Si vous supprimez son webhook de logs, il le recréera automatiquement lors de l'envoi du prochain log.*

## Configuration générale

::tabs
  ::tab{ label="Via la commande /config" }
    Vous pouvez configurer les logs avec la commande \</config>, en vous rendant ensuite dans l'onglet "Logs" du sélecteur.

    **DraftBot** vous affichera alors la configuration actuelle :
    - *Salon par défaut* ➜ Salon dans lequel les logs seront envoyés si le salon n'a pas été paramétré individuellement pour chaque log.
    - *Couleur par défaut* ➜ Couleur des logs si la couleur n'a pas été paramétrée individuellement pour chaque log.
    - *Salons ignorés* ➜ Salons qui sont ignorés par les logs : vous n'aurez aucun log des actions qui sont faites dedans.

    La catégorie "*Modules*" résume la configuration de chaque log.

    Ici sera affiché, pour chaque module :
    - Log activé (✅) ou non (❌).
    - Salon d'envoi.
    - Couleur.

    ::hint{ type="info" }
      Les logs de messages et de boosts sont réservés aux serveurs [premium <:icon_premium_:1096140508625125417>](/premium).
    ::

    Sous ce message, retrouvez les boutons permettant de configurer les logs :
    - ***Activer le système*** / ***Système activé*** ➜ Pour activer ou désactiver le système de logs.
    - ***Salon par défaut*** ➜ Salon dans lequel les logs seront envoyés si le salon n'a pas été paramétré individuellement pour chaque log.
    - ***Modules*** ➜ Pour configurer individuellement chaque log.
    - ***Couleur par défaut*** ➜ Pour configurer la couleur des logs si la couleur n'a pas été paramétrée individuellement pour chaque log.
    - ***Ignorer des salons*** ➜ Pour configurer les salons qui seront ignorés par les logs : vous n'aurez aucun log des actions qui sont faites dedans.
    - ***Réinitialiser*** ➜ Pour réinitialiser toute la configuration des logs.

    ::hint{ type="warning" }
      Le bouton "Réinitialiser" est irréversible : impossible d'annuler l'action et de recréer votre configuration des logs de votre serveur.
    ::

    ::hint{ type="info" }
      Les boutons bleus signifient que leur configuration doit être entièrement réalisée pour que le système de logs soit opérationnel, lors de la première configuration.
    ::

    ![Configuration générale des logs via la commande /config](../assets/logs/config_view.png)
  ::

  ::tab{ label="Depuis le panel" }
    [⫸ Accéder au panel de **DraftBot**](/dashboard/first/logs)

    Pour configurer les logs de **DraftBot**, rendez-vous dans la catégorie "Logs" du panel.

    En haut de la page, vous trouverez la configuration des logs globaux par défaut.

    Vous pouvez configurer la couleur par défaut des logs avec la palette de peinture, le salon par défaut avec le menu déroulant et les salons ignorés en appuyant sur "+".

    ![Configuration générale des logs depuis le panel](../assets/logs/panel_view.png)
  ::
::

## Configuration des destinations

Chaque log peut être envoyé vers différentes destinations.

### Choix de la destination

::tabs
  ::tab{ label="Via le panel" }
    [⫸ Accéder au panel de **DraftBot**](/dashboard/first/logs)

    ![Configuration d'un module de log depuis le panel](../assets/logs/panel_module.png)

    Vous pouvez choisir la destination d'envoi des logs en cliquant sur **Modifier** puis choisir le type de destination parmi [ces options](#les-options).
  ::

  ::tab{ label="Via la commande /config" }
    Si vous souhaitez effectuer toute la configuration directement depuis Discord, vous pouvez le faire via la commande /config, puis en vous rendant dans l'onglet "Logs". Le menu ressemble alors à ceci :

    ![Configuration d'un module de log depuis le /config](../assets/logs/config_moderation.png)

    Vous pouvez choisir la destination d'envoi des logs en cliquant sur **Destination** puis choisir le type de destination parmi [ces options](#les-options).
  ::
::

### Les options

::tabs
  ::tab{ label="Serveur" }
    L'option par défaut, les logs sont envoyés dans un salon configuré du serveur.
  ::

  ::tab{ label="Autres serveurs" }
    Les logs sont envoyés vers un autre serveur Discord à l'aide d'un **webhook Discord** externe.

    > Exemple :
    > https://discord.com/api/webhooks/

    Pour créer un webhook, vous devez aller dans les \<:icon_settings:1120818166067646664> **Paramètres** de votre salon de réception, dans la section **Intégrations** et vous pourrez alors **Créer un webhook**.

    ![Créez vos webhooks en cliquant sur "Créer un webhook"](../assets/logs/server_webhook.png)

    ::hint{ type="warning" }
      Vous devez être propriétaire du serveur en question afin de pouvoir configurer cette fonctionnalité.
    ::
  ::

  ::tab{ label="API Externe" }
    Les logs sont envoyés vers une URL externe (API, site web, service tiers).

    | Type | Description | Exemple |
    |------|-------------|---------|
    | **URL personnalisée** | URL vers laquelle les données sont envoyées. Elle doit être valide et commencer par http:// ou https://. | https://example.com/webhook |
    | **Headers HTTP personnalisés** | Paires clé/valeur ajoutées à la requête HTTP (authentification, options…). Jusqu'à 3 headers sont autorisés. | X-API-Key: YOUR_API_KEY |

    ::hint{ type="info" }
      Cette fonctionnalité est réservée aux serveurs [premium](/premium) <:icon_premium_:1096140508625125417>.
    ::

    ::hint{ type="warning" }
      Vous devez être propriétaire du serveur en question afin de pouvoir configurer cette fonctionnalité.
    ::
  ::
::

## Configuration par module

::tabs
  ::tab{ label="Via la commande /config" }
    Vous pouvez configurer les logs individuellement avec la commande \</config>, en vous rendant ensuite dans l'onglet "Logs" du sélecteur.

    Dans les boutons en dessous du message, sélectionnez "Modules".

    ![Configuration d'un module de log via la commande /config](../assets/logs/config_modules.png)

    Une fois le module sélectionné, laissez-vous guider par **DraftBot** pour terminer la configuration du module !
    - Pour changer le salon d'envoi : Indiquez la mention ou l'identifiant du salon voulu.
    - Pour changer la photo de profil du log, lors de l'envoi : Envoyez une image respectant les normes indiquées dans la description de la question correspondante. (<:icon_premium:1096140508625125417>)
    - Pour changer la couleur du log, lors de l'envoi : Indiquez un code couleur au format hexadécimal (<:icon_premium:1096140508625125417>)

    ::hint{ type="success" }
      La configuration du module est faite ! Vous aurez désormais accès aux logs de ce module dans le salon défini.
    ::

    Exemple de log de modération reçu sur le serveur :

    ![Exemple de log de modération](../assets/logs/bot_log.png)
  ::

  ::tab{ label="Depuis le panel" }
    [⫸ Accéder au panel de **DraftBot**](/dashboard/first/logs)

    Pour configurer les modules des logs de **DraftBot**, rendez-vous dans la catégorie "Logs" du panel, puis activez les modules.

    Lors de la première configuration, tous les logs sont grisés (cela signifie qu'ils sont désactivés).

    Activez alors individuellement les logs que vous souhaitez mettre en place pour accéder à leur configuration.

    ![Activation des modules de logs depuis le panel](../assets/logs/panel_activate.png)

    Vous aurez alors la possibilité de configurer votre module :
    - Pour changer le salon d'envoi : ouvrez le menu déroulant et sélectionnez le salon voulu.
    - Pour changer la photo de profil du log, lors de l'envoi : cliquez sur le logo de **DraftBot**. (<:icon_premium_:1096140508625125417>)
    - Pour changer la couleur du log, lors de l'envoi : cliquez sur la palette de peinture et sélectionnez la couleur voulue. (<:icon_premium_:1096140508625125417>)

    ![Configuration d'un module de log depuis le panel](../assets/logs/panel_module.png)

    Exemple de log de modération reçu sur le serveur :

    ![Exemple de log de modération](../assets/logs/bot_log.png)
  ::
::



